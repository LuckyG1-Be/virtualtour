<!DOCTYPE html>
<html>
<head>
    <meta name="description" content="Virtual Tour"/>
    <title>Titelloos 4</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="user-scalable=no, initial-scale=0.5, width=device-width" />

    <!-- Social Media Metadata -->
    <meta itemprop="name" content="Titelloos 4"/>
    <meta itemprop="description" content="Virtual Tour"/>
    <meta itemprop="image" content="https://luckyg1-be.github.io/virtualtour/socialThumbnail.jpg"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="Titelloos 4"/>
    <meta name="twitter:description" content="Virtual Tour"/>
    <meta name="twitter:image:src" content="https://luckyg1-be.github.io/virtualtour/socialThumbnail.jpg"/>
    <meta name="twitter:image:width" content="1200"/>
    <meta name="twitter:image:height" content="630"/>
    <meta property="og:title" content="Titelloos 4"/>
    <meta property="og:type" content="website"/>
    <meta property="og:description" content="Virtual Tour"/>
    <meta property="og:image" content="https://luckyg1-be.github.io/virtualtour/socialThumbnail.jpg"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>

    <!-- JavaScript and Player Dependencies -->
    <script src="./lib/tdvplayer.js"></script>
    <script src="./lib/ThreeWebGL.js"></script>
    <script src="./script.js"></script>

    <style type="text/css">
        html, body {
            background-color: #003333;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #viewer {
            background-color: #003333;
            z-index: 1;
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
        }
        #preloadContainer {
            z-index: 2;
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 51, 51, 1);
        }
        #preloadText {
            color: #777777;
            font-size: 14px;
            font-family: Arial, Helvetica, sans-serif;
        }
    </style>

    <script type="text/javascript">
        function onLoad() {
            const preloadContainer = document.getElementById('preloadContainer');

            const settings = new TDV.PlayerSettings();
            settings.set(TDV.PlayerSettings.CONTAINER, document.getElementById('viewer'));
            settings.set(TDV.PlayerSettings.SCRIPT_URL, './script.js');
            settings.set(TDV.PlayerSettings.THREE_JS_WEBGL_URL, './lib/ThreeWebGL.js');

            const player = TDV.PlayerAPI.create(settings);

            player.bind('stateChange', function(event) {
                if (event.name === 'begin' || event.name === 'ready') {
                    preloadContainer.style.display = 'none';
                }
            });

            player.bind('error', function(error) {
                console.error('Player Error:', error);
                document.getElementById('preloadText').innerText = 'Error loading tour: ' + error.message;
            });
        }
    </script>
</head>
<body onload="onLoad()">
    <div id="preloadContainer">
        <span id="preloadText">Loading virtual tour. Please wait...</span>
    </div>
    <div id="viewer"></div>
</body>
</html>
